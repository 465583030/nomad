{{#global-header class="page-header"}}
  Jobs
{{/global-header}}
{{#gutter-menu class="page-body"}}
  <section class="section">
    <div class="level">
      <div class="level-item has-text-centered">
        <div>
          <h3 class="title is-1">{{model.length}}</h3>
          <p class="heading">Total Jobs</p>
        </div>
      </div>
      <div class="level-item has-text-centered">
        <div>
          <h3 class="title is-1">{{pendingJobs.length}}</h3>
          <p class="heading">Pending</p>
        </div>
      </div>
      <div class="level-item has-text-centered">
        <div>
          <h3 class="title is-1">{{runningJobs.length}}</h3>
          <p class="heading">Running</p>
        </div>
      </div>
      <div class="level-item has-text-centered">
        <div>
          <h3 class="title is-1">{{deadJobs.length}}</h3>
          <p class="heading">Dead</p>
        </div>
      </div>
    </div>
    {{search-box searchTerm=(mut searchTerm) placeholder="Search jobs..."}}
    {{#list-pagination
      source=sortedJobs
      size=pageSize
      page=currentPage as |p|}}
      {{#list-table
        source=p.list
        sortProperty=sortProperty
        sortDescending=sortDescending
        class="with-foot" as |t|}}
        {{#t.head}}
          {{#t.sort-by prop="name"}}Name{{/t.sort-by}}
          {{#t.sort-by prop="type"}}Type{{/t.sort-by}}
          {{#t.sort-by prop="priority"}}Priority{{/t.sort-by}}
          {{#t.sort-by prop="status"}}Status{{/t.sort-by}}
          <th>Groups</th>
          <th>Allocation Status</th>
          <th># Lost</th>
        {{/t.head}}
        {{#t.body key="model.id" as |row|}}
          {{job-row job=row.model}}
        {{/t.body}}
      {{/list-table}}
      <div class="table-foot">
        <nav class="pagination">
          <div class="pagination-numbers">
            {{p.startsAt}}&ndash;{{p.endsAt}} of {{sortedNodes.length}}
          </div>
          {{#p.prev class="pagination-previous"}} &lt; {{/p.prev}}
          {{#p.next class="pagination-next"}} &gt; {{/p.next}}
          <ul class="pagination-list"></ul>
        </nav>
      </div>
    {{/list-pagination}}
  </section>
{{/gutter-menu}}
